
目前是还差一个群聊或者聊天房间里面的, 收到消息的时候清除该房间的红点

roomhelper的红点信息应该要抽出去,不需要每个都写, 但是不一定, 要看不同群聊和房间里面的信息再决定使用哪个工厂方法



ChatIdleReason.loginFail


RoutePredicate

需要检查chamer的id是否都传入了正确的参数, 还有就是监听类型的房间类型和红点类型是否正确, 就是第一次提交的时候发出来的东西



聊天消息的地方, 就是增加一个最后一条消息的监听就可以了(暂时), 不需要做单独的红点监听
可能存在的问题就是, 收到了最后一条消息, 但是红点还没有发出通知或者红点还没有修改

如果是群里面没有消息的情况, 重新登录进群后红点的提示信息为0, 即使存在新发的信息


那个没有最后一条消息没有存下来, 所以一直获取到的都是空的, 虽然await 也是一个问题
应该在一开始收到消息推送的时候,一并把消息给存下来







2   7   8
1 1
1 1 1 1 4
11
4